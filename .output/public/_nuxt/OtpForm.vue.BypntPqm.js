import{M as y}from"./MainActionButton.Vl-4zAEb.js";import{u as w}from"./Drawer.coyZKisX.js";import{f as v,r as c,o as u,c as d,F as C,k as g,j as k,Q as V,i as l,y as b,v as E,G as h,d as F,a as _,t as A,b as x,w as B}from"./entry.D6qKh-EG.js";const O=["onUpdate:modelValue","onKeyup"],$=v({__name:"OtpInput",props:{modelValue:{type:String,default:""},length:{type:Number,default:4},hasError:{type:Boolean,default:!1,required:!0}},emits:["update:modelValue"],setup(i,{emit:f}){const p=f,r=i,e=c([]),o=c(),n=(m,t)=>{const s=o.value.children,a=m.key;if(t>0&&(a=="Backspace"||a=="Delete"))e.value[t]="",setTimeout(()=>{s[t-1].focus()},50);else if(a.match(/^[0-9]$/))t<r.length-1&&(e.value[t]=a,setTimeout(()=>{s[t+1].focus()},50));else{e.value[t]="";return}setTimeout(()=>{p("update:modelValue",e.value.join(""))},100)};return(m,t)=>(u(),d("div",{ref_key:"container",ref:o,class:"flex flex-row gap-2 items-center justify-center py-4 ltr-dir w-full px-1"},[(u(!0),d(C,null,g(i.length,s=>k((u(),d("input",{type:"text",class:b(["text-center h-[46px] w-[40px] rounded-[8px] outline-none duration-300 border text-[#141414] placeholder:text-[#141414]",[i.hasError?"border-[#FF3CA0] focus:border-[#FF3CA0] shadow-[0px_0px_5.5px_0px__#FF3CA0]":"border-[#A9A7A7] focus:border-[#133C3E]"]]),placeholder:"_",key:s,"onUpdate:modelValue":a=>l(e)[s-1]=a,maxlength:"1",onKeyup:a=>n(a,s-1)},null,42,O)),[[V,l(e)[s-1]]])),128))],512))}}),j=window.setInterval,N={class:"w-full"},T={key:0,class:"flex flex-col justify-start items-center font-medium text-center text-[13px] leading-[20px] text-[#133C3E]"},D={key:1,class:"flex flex-col justify-start items-center font-medium text-center text-[16px] leading-[20px] text-[#133C3E]"},I=v({__name:"OtpResendButton",props:{period:{type:Number,default:60},reset:{type:Boolean,required:!0}},emits:["resend"],setup(i,{expose:f,emit:p}){const r=p,e=i,o=c(e.period),n=c(!1);n.value=!1;const m=()=>{r("resend")},t=()=>{n.value=!1;const s=j(()=>{o.value==1?(clearInterval(s),n.value=!0,o.value=60):o.value=o.value-1},1e3)};return E(()=>{t()}),h(()=>e.reset,t),f({count:t}),(s,a)=>(u(),d("div",N,[l(n)?(u(),d("div",T,[F(" کد را دریافت نکردید! "),_("span",{class:"text-[#400842] font-medium underline cursor-pointer",onClick:m},"ارسال مجدد")])):(u(),d("div",D,[_("span",null,A(l(o)),1)]))]))}}),M={class:"w-full overflow-y-auto"},K=_("div",{class:"text-white text-center text-[20px] leading-[30px]"},"تایید",-1),z=v({__name:"OtpForm",emits:["changeEmail","resend","validate"],setup(i,{emit:f}){const p=f;w();const r=c({email:"",code:""}),e=c(!1),o=c(!1),n=()=>{r.value.code&&p("validate",r.value.code)},m=()=>{p("resend"),e.value=!e.value,r.value.code=""};return h(()=>r.value.code,()=>o.value=!1),(t,s)=>(u(),d("div",M,[x($,{length:6,modelValue:l(r).code,"onUpdate:modelValue":s[0]||(s[0]=a=>l(r).code=a),"has-error":l(o),class:"mt-[70px] mb-[30px]"},null,8,["modelValue","has-error"]),x(I,{ref:"otpContainer",reset:l(e),onResend:m},null,8,["reset"]),x(y,{class:"mt-[24px]",onClick:n},{default:B(()=>[K]),_:1})]))}});export{$ as _,I as a,z as b};
