import{f as h,r as f,G as U,v as P,x as T,o as _,c as y,b as a,i as e,w as S,H as V,a as l,s as C,m as $,q as D,F}from"./entry.D6qKh-EG.js";import{u as b}from"./useCustomFetch.C4rKAARt.js";import{M as B}from"./MainActionButton.Vl-4zAEb.js";import{u as g}from"./Drawer.coyZKisX.js";import{_ as j,a as A}from"./OtpForm.vue.BypntPqm.js";import{_ as k,a as M,b as N,B as R}from"./BeautyIcon.7kRgEAG5.js";import{_ as I}from"./EmailInput.vue.DEscSOqp.js";import{L}from"./LoginImage.BF9ixQie.js";import{H as E,_ as H}from"./RegisterForm.vue.BjZ7SSA_.js";import{B as q}from"./BackIcon.B3Oi9U0y.js";import"./fetch.BLobzZpr.js";import"./_plugin-vue_export-helper.DlAUqK2U.js";import"./ErrorRedIcon.CK4zA3oS.js";import"./debounce.BMmXVQ06.js";import"./CheckBox.vue.DPNqKop9.js";const G={class:"w-full overflow-y-auto"},z=l("div",{class:"text-white text-center text-[20px] leading-[30px]"},"تایید",-1),J=h({__name:"OtpForm",props:{modelValue:{type:String,default:""}},emits:["changePhoneNumber","resend","validate"],setup(w,{emit:u}){const m=u,i=w,o=V();g();const r=f({phone_number:i.modelValue,code:""}),s=f(!1),n=f(!1),c=()=>{if(!r.value.code){o.$toast.error("کد تایید را وارد کنید",{rtl:!0});return}m("validate",r.value.code)},v=async()=>{s.value=!s.value;const p={phone_number:r.value.phone_number},t=await b("/auth/register",{method:"POST",body:p});t.error.value!=null&&o.$toast.error("کد ورود با موفقیت ارسال شد",{rtl:!0}),t.data.value!=null&&o.$toast.success("کد ورود با موفقیت ارسال شد",{rtl:!0})};return U(()=>r.value.code,()=>n.value=!1),P(()=>T(()=>{r.value.phone_number=i.modelValue})),(p,t)=>(_(),y("div",G,[a(j,{length:6,modelValue:e(r).code,"onUpdate:modelValue":t[0]||(t[0]=d=>e(r).code=d),"has-error":e(n),class:"mt-[20px] mb-[20px]"},null,8,["modelValue","has-error"]),a(A,{ref:"otpContainer",reset:e(s),onResend:v},null,8,["reset"]),a(B,{class:"mt-[24px]",onClick:c},{default:S(()=>[z]),_:1})]))}}),K={class:"w-full overflow-y-auto"},Q=l("div",{class:"text-white text-center text-[20px] leading-[30px]"},"ثبت",-1),W=h({__name:"SetPasswordForm",props:{email:{type:String,default:""},rememberToken:{type:String,default:""}},setup(w){const u=w,m=V();C();const i=g(),o=f({password:"",password_confirmation:""}),r=async()=>{const s={email:u.email,remember_token:u.rememberToken,password:o.value.password,password_confirmation:o.value.password_confirmation},n=await b("/auth/password",{method:"POST",body:s});n.error.value!=null&&m.$toast.error("خطا رخ داده است",{rtl:!0}),n.data.value!=null&&(m.$toast.success("کد ورود با موفقیت ارسال شد",{rtl:!0}),i.closeAllDrawers(),i.openCompleteProfileDrawer())};return(s,n)=>(_(),y("div",K,[a(k,{title:"کلمه عبور",modelValue:e(o).password,"onUpdate:modelValue":n[0]||(n[0]=c=>e(o).password=c),class:"mt-[27px]"},null,8,["modelValue"]),a(k,{title:"تکرار کلمه عبور",modelValue:e(o).password_confirmation,"onUpdate:modelValue":n[1]||(n[1]=c=>e(o).password_confirmation=c),class:"mt-[27px]"},null,8,["modelValue"]),a(B,{class:"mt-[48px]",onClick:r},{default:S(()=>[Q]),_:1})]))}}),X={class:"w-full overflow-y-auto"},Y=l("div",{class:"text-white text-center text-[20px] leading-[30px]"},"ارسال کد تایید",-1),Z=h({__name:"RegisterMiniForm",props:{modelValue:{type:String,default:""}},emits:["sent","update:modelValue"],setup(w,{emit:u}){const m=u,i=V();C();const o=g(),r=w,s=f({email:"",password:"",accept_policy:!1}),n=async()=>{const p={email:s.value.email,password:s.value.password},t=await b("/auth/register",{method:"POST",body:p});t.error.value!=null&&i.$toast.error("این ایمیل پیشتر ثبت نام کرده است",{rtl:!0}),t.data.value!=null&&(i.$toast.success("کد ورود با موفقیت ارسال شد",{rtl:!0}),m("sent"))},c=()=>{o.closeAllDrawers(),o.openLoginDrawer()},v=p=>{var t;m("update:modelValue",(t=p.target)==null?void 0:t.value)};return P(()=>T(()=>{s.value.email=r.modelValue})),(p,t)=>(_(),y("div",X,[a(I,{onInput:v,title:"ایمیل",modelValue:e(s).email,"onUpdate:modelValue":t[0]||(t[0]=d=>e(s).email=d)},null,8,["modelValue"]),a(k,{title:"کلمه عبور",modelValue:e(s).password,"onUpdate:modelValue":t[1]||(t[1]=d=>e(s).password=d),class:"mt-[27px]"},null,8,["modelValue"]),a(M,{class:"mt-[24px]",modelValue:e(s).accept_policy,"onUpdate:modelValue":t[2]||(t[2]=d=>e(s).accept_policy=d)},null,8,["modelValue"]),a(B,{class:"mt-[24px]",onClick:n},{default:S(()=>[Y]),_:1}),a(N,{class:"mt-[18px]",onClick:c,title:"ورود"})]))}}),ee={class:"hidden md:flex flex-col relative justify-center items-center w-screen h-[calc(100vh-87px)] py-[35px] px-[40px] overflow-y-auto bg-white"},te={class:"hidden w-full md:flex flex-row max-w-[1200px] mx-auto min-h-[400px] bg-white rounded-[20px] shadow-[0px_2px_8px_0px_#00000040]"},oe={class:"overflow-y-auto w-full md:w-1/2 flex flex-col justify-center items-center md:rounded-tl-[20px] md:rounded-bl-[20px] rounded-[20px] h-full pb-[16px] md:px-[65px] px-[24px]"},se=l("div",{class:"mt-[40px] text-[#344055] text-[32px] text-right font-bold"}," ثبت نام ",-1),ae=l("div",{class:"mt-[25px] text-[#B6B8C3] font-normal text-[16px] text-right"}," برای دسترسی مستقیم به هنرمندان و تماس وارد شوید ",-1),le=l("div",{class:"border border-[#2C3E5033] w-full my-[20px] border-dashed"},null,-1),re={class:"overflow-y-auto hidden md:flex flex-col justify-center items-center py-[40px] px-[65px] w-1/2 bg-[#2dcfc1] rounded-tl-[20px] rounded-bl-[20px] h-full"},ne=l("div",{class:"mt-[24px] text-center w-full font-medium text-[24px] text-white"}," پشتیبانی فوری ",-1),de=l("div",{class:"mt-[24px] text-center w-full font-light text-[18px] text-white"}," شما میتوانید به صورت 24 ساعته و 7 روز هفته را با ما تماس بگیرید ",-1),ie={class:"flex flex-col md:hidden px-[17px] overflow-y-scroll w-full duration-700 ease-in-out bg-white"},me={class:"flex flex-row items-center justify-end pl-[3px]"},ue={class:"flex flex-col justify-start items-center"},Ce=h({__name:"index",setup(w){const u=V(),m=f(!1);C();const i=f(!1),o=f({email:"",accept_policy:!1}),r=f(""),s=g(),n=()=>{s.closeAllDrawers()},c=()=>{m.value=!0},v=()=>{m.value=!1},p=async t=>{var O;const d={email:o.value.email,code:t},x=await b("/auth/register/otp",{method:"POST",body:d});x.data.value&&(u.$toast.success("اطلاعات شما با موفقیت ثبت شد",{rtl:!0}),i.value=!0,r.value=(O=x.data.value)==null?void 0:O.token),x.error.value&&u.$toast.error("کد ورود صحیح نیست!",{rtl:!0})};return(t,d)=>(_(),y(F,null,[l("div",ee,[l("div",te,[l("div",oe,[se,ae,le,!e(m)&&!e(i)?(_(),$(Z,{key:0,modelValue:e(o).email,"onUpdate:modelValue":d[0]||(d[0]=x=>e(o).email=x),onSent:c,class:"mt-[17px]"},null,8,["modelValue"])):e(i)?e(i)?(_(),$(W,{key:2,email:e(o).email,"remember-token":e(r)},null,8,["email","remember-token"])):D("",!0):(_(),$(J,{key:1,modelValue:e(o).email,"onUpdate:modelValue":d[1]||(d[1]=x=>e(o).email=x),onResend:v,onValidate:p},null,8,["modelValue"]))]),l("div",re,[a(L),ne,de])])]),l("div",ie,[l("div",me,[a(q,{onClick:n})]),l("div",ue,[a(R,{class:"mt-[8px]"}),a(E),a(H,{class:"mt-[17px]"})])])],64))}});export{Ce as default};
