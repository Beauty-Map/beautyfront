{"version":3,"file":"index-CLfRT3fS.js","sources":["../../../../components/panel/CompleteProfileForm.vue"],"sourcesContent":["<template>\r\n  <div class=\"w-full overflow-y-auto\">\r\n    <TextInput title=\"نام و نام خانوادگی\" v-model=\"form.full_name\" class=\"mt-[27px]\"/>\r\n    <ChooseCityInput title=\"استان و شهر\" v-model=\"form.city_id\" class=\"mt-[27px]\"/>\r\n    <BirthDateInput title=\"تاریخ تولد\" v-model=\"form.birth_date\" class=\"mt-[27px]\"/>\r\n    <MainActionButton class=\"mt-[27px]\" @click=\"doSaveProfile\">\r\n      <div class=\"text-white text-center text-[20px] leading-[30px]\">ذخیره تغییرات</div>\r\n    </MainActionButton>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\n\r\nimport TextInput from \"~/components/input/TextInput.vue\";\r\nimport MainActionButton from \"~/components/button/form/MainActionButton.vue\";\r\nimport {useDrawerStore} from \"~/store/Drawer\";\r\nimport ChooseCityInput from \"~/components/input/ChooseCityInput.vue\";\r\nimport BirthDateInput from \"~/components/input/BirthDateInput.vue\";\r\nimport {useCustomFetch} from \"~/composables/useCustomFetch\";\r\nimport {useAuthStore} from \"~/store/Auth\";\r\n\r\nconst app = useNuxtApp()\r\nconst store = useDrawerStore()\r\n\r\nconst auth = useAuthStore()\r\nconst user = ref(auth.user)\r\n\r\nconst form = ref<ICompleteProfileForm>({\r\n  full_name: user.value?.full_name,\r\n  birth_date: user.value?.birth_date,\r\n  city_id: user.value?.city_id,\r\n})\r\n\r\nconst doSaveProfile = async () => {\r\n  useCustomFetch('/own', {\r\n    method: \"PUT\",\r\n    body: form.value,\r\n  })\r\n      .then(res => {\r\n        app.$toast.success('تغییرات با موفقیت ثبت شد!', {rtl: true})\r\n      })\r\n      .catch(err => {\r\n      })\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqBA,UAAM,MAAM;AACE,mBAAe;AAE7B,UAAM,OAAO;AACP,UAAA,OAAO,IAAI,KAAK,IAAI;AAE1B,UAAM,OAAO,IAA0B;AAAA,MACrC,YAAW,UAAK,UAAL,mBAAY;AAAA,MACvB,aAAY,UAAK,UAAL,mBAAY;AAAA,MACxB,UAAS,UAAK,UAAL,mBAAY;AAAA,IAAA,CACtB;AAED,UAAM,gBAAgB,YAAY;AAChC,qBAAe,QAAQ;AAAA,QACrB,QAAQ;AAAA,QACR,MAAM,KAAK;AAAA,MAAA,CACZ,EACI,KAAK,CAAO,QAAA;AACX,YAAI,OAAO,QAAQ,6BAA6B,EAAC,KAAK,MAAK;AAAA,MAAA,CAC5D,EACA,MAAM,CAAO,QAAA;AAAA,MAAA,CACb;AAAA,IAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}